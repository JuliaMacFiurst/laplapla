/**
 * МОДУЛЬ ВИДЕОКОНТЕНТА
 * ==================
 *
 * Это единая точка входа для всего, что связано с видео в проекте.
 * Любые импорты видео-данных, типов и справочников
 * должны происходить ТОЛЬКО отсюда.
 *
 * Ниже описано, за что отвечает каждый файл модуля:
 *
 * ─────────────────────────────────────────
 * videos.ts
 * ─────────────────────────────────────────
 * Содержит ТОЛЬКО данные длинных видео (long-form).
 * - только вручную отобранные видео
 * - без API, без автопоиска
 * - без пользовательских текстов
 *
 * ─────────────────────────────────────────
 * shorts.ts
 * ─────────────────────────────────────────
 * Содержит ТОЛЬКО данные коротких видео (YouTube Shorts).
 * Используется для горизонтальной ленты Shorts.
 *
 * ─────────────────────────────────────────
 * channels.ts
 * ─────────────────────────────────────────
 * Белый список доверенных YouTube-каналов.
 * Добавление канала НЕ означает автоматическое добавление видео.
 * Файл нужен для кураторства, контроля и будущего масштабирования.
 *
 * ─────────────────────────────────────────
 * categories.ts
 * ─────────────────────────────────────────
 * Список допустимых категорий видео.
 * Хранит только ключи и мета-информацию.
 * Все пользовательские названия берутся из i18n.
 *
 * ─────────────────────────────────────────
 * index.ts (этот файл)
 * ─────────────────────────────────────────
 * - объявляет ОБЩИЕ типы
 * - реэкспортирует все части модуля
 * - формирует публичный API видеосистемы
 */

// ====================
// Общие типы
// ====================

/**
 * Единая сущность видео в проекте.
 * Используется как канонический формат данных
 * и полностью соответствует будущему хранению в БД.
 */
import type { VideoCategoryKey } from "./categories";
export type VideoItem = {
  id: string;
  categoryKey: VideoCategoryKey;

  format: "short" | "video";

  /** Критичность языка для понимания */
  languageDependency: "spoken" | "visual";

  /** Реально допустимые языки */
  contentLanguages: Array<"en" | "ru" | "he">;

  title?: {
    en?: string;
    ru?: string;
    he?: string;
  };

  source: {
    platform: "youtube";
    channelHandle?: string;
    channelUrl?: string;
  };

  /** Основной embed (95% случаев) */
  youtubeId: string;

  /** Редкий случай: разные версии */
  youtubeIds?: {
    en?: string;
    ru?: string;
    he?: string;
  };

  durationLabel?: string;
  status?: "draft" | "approved" | "hidden";
};

// ====================
// Агрегаторы данных
// ====================

import { videos } from "./videos";
import { shorts } from "./shorts";

/**
 * Все видео проекта (shorts + long-form).
 * Используется ТОЛЬКО для чтения и фильтрации.
 */
export const allVideos: VideoItem[] = [...videos, ...shorts];

// ====================
// Реэкспорт данных
// ====================

export * from "./videos";
export * from "./shorts";
export * from "./channels";
export { videoCategories } from "./categories";
export type { VideoCategoryKey } from "./categories";